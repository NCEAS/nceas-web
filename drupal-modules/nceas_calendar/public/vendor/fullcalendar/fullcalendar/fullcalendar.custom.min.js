/** Customizations made to v1.6.6 by Lauren Walker to work with the Roundtable Google Calendar **/
!function(a,b){function g(b){a.extend(!0,c,b)}function h(c,d,e){function F(a){o?J()&&(R(),O(a)):G()}function G(){p=d.theme?"ui":"fc",c.addClass("fc"),d.isRTL?c.addClass("fc-rtl"):c.addClass("fc-ltr"),d.theme&&c.addClass("ui-widget"),o=a("<div class='fc-content' style='position:relative'/>").prependTo(c),m=new i(g,d),n=m.render(),n&&c.prepend(n),L(d.defaultView),d.handleWindowResize&&a(window).resize(T),K()||H()}function H(){setTimeout(function(){!t.start&&K()&&N()},0)}function I(){t&&(ra("viewDestroy",t,t,t.element),t.triggerEventDestroy()),a(window).unbind("resize",T),m.destroy(),o.remove(),c.removeClass("fc fc-rtl ui-widget")}function J(){return c.is(":visible")}function K(){return a("body").is(":visible")}function L(a){t&&a==t.name||M(a)}function M(b){y++,t&&(ra("viewDestroy",t,t,t.element),ea(),t.triggerEventDestroy(),na(),t.element.remove(),m.deactivateButton(t.name)),m.activateButton(b),t=new f[b](a("<div class='fc-view fc-view-"+b+"' style='position:relative'/>").appendTo(o),g),N(),oa(),y--}function N(a){(!t.start||a||A<t.start||A>=t.end)&&J()&&O(a)}function O(a){y++,t.start&&(ra("viewDestroy",t,t,t.element),ea(),Y()),na(),t.render(A,a||0),S(),oa(),(t.afterRender||U)(),ba(),ca(),ra("viewRender",t,t,t.element),t.trigger("viewDisplay",k),y--,Z()}function P(){J()&&(ea(),Y(),R(),S(),X())}function R(){v=d.contentHeight?d.contentHeight:d.height?d.height-(n?n.height():0)-Q(o):Math.round(o.width()/Math.max(d.aspectRatio,.5))}function S(){v===b&&R(),y++,t.setHeight(v),t.setWidth(o.width()),y--,u=c.outerWidth()}function T(){if(!y)if(t.start){var a=++x;setTimeout(function(){a==x&&!y&&J()&&u!=(u=c.outerWidth())&&(y++,P(),t.trigger("windowResize",k),y--)},200)}else H()}function V(){Y(),$()}function W(a){Y(),X(a)}function X(a){J()&&(t.setEventData(B),t.renderEvents(B,a),t.trigger("eventAfterAllRender"))}function Y(){t.triggerEventDestroy(),t.clearEvents(),t.clearEventData()}function Z(){!d.lazyFetching||h(t.visStart,t.visEnd)?$():X()}function $(){j(t.visStart,t.visEnd)}function _(a){B=a,X()}function aa(a){W(a)}function ba(){m.updateTitle(t.title)}function ca(){var a=new Date;a>=t.start&&a<t.end?m.disableButton("today"):m.enableButton("today")}function da(a,c,d){t.select(a,c,d===b||d)}function ea(){t&&t.unselect()}function fa(){N(-1)}function ga(){N(1)}function ha(){q(A,-1),N()}function ia(){q(A,1),N()}function ja(){A=new Date,N()}function ka(a,b,c){a instanceof Date?A=w(a):z(A,a,b,c),N()}function la(a,c,d){a!==b&&q(A,a),c!==b&&r(A,c),d!==b&&s(A,d),N()}function ma(){return w(A)}function na(){o.css({width:"100%",height:o.height(),overflow:"hidden"})}function oa(){o.css({width:"",height:"",overflow:""})}function pa(){return t}function qa(a,c){return c===b?d[a]:void("height"!=a&&"contentHeight"!=a&&"aspectRatio"!=a||(d[a]=c,P()))}function ra(a,b){if(d[a])return d[a].apply(b||k,Array.prototype.slice.call(arguments,2))}var g=this;g.options=d,g.render=F,g.destroy=I,g.refetchEvents=V,g.reportEvents=_,g.reportEventChange=aa,g.rerenderEvents=W,g.changeView=L,g.select=da,g.unselect=ea,g.prev=fa,g.next=ga,g.prevYear=ha,g.nextYear=ia,g.today=ja,g.gotoDate=ka,g.incrementDate=la,g.formatDate=function(a,b){return D(a,b,d)},g.formatDates=function(a,b,c){return E(a,b,c,d)},g.getDate=ma,g.getView=pa,g.option=qa,g.trigger=ra,l.call(g,d,e);var m,n,o,p,t,u,v,C,h=g.isFetchNeeded,j=g.fetchEvents,k=c[0],x=0,y=0,A=new Date,B=[];z(A,d.year,d.month,d.date),d.droppable&&a(document).bind("dragstart",function(b,c){var e=b.target,f=a(e);if(!f.parents(".fc").length){var g=d.dropAccept;(a.isFunction(g)?g.call(e,f):f.is(g))&&(C=e,t.dragStart(C,b,c))}}).bind("dragstop",function(a,b){C&&(t.dragStop(C,a,b),C=null)})}function i(b,c){function h(){g=c.theme?"ui":"fc";var b=c.header;if(b)return e=a("<table class='fc-header' style='width:100%'/>").append(a("<tr/>").append(j("left")).append(j("center")).append(j("right")))}function i(){e.remove()}function j(d){var e=a("<td class='fc-header-"+d+"'/>"),h=c.header[d];return h&&a.each(h.split(" "),function(d){d>0&&e.append("<span class='fc-header-space'/>");var h;a.each(this.split(","),function(d,i){if("title"==i)e.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),h&&h.addClass(g+"-corner-right"),h=null;else{var j;if(b[i]?j=b[i]:f[i]&&(j=function(){m.removeClass(g+"-state-hover"),b.changeView(i)}),j){var k=c.theme?Y(c.buttonIcons,i):null,l=Y(c.buttonText,i),m=a("<span class='fc-button fc-button-"+i+" "+g+"-state-default'>"+(k?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+k+"'/></span>":l)+"</span>").click(function(){m.hasClass(g+"-state-disabled")||j()}).mousedown(function(){m.not("."+g+"-state-active").not("."+g+"-state-disabled").addClass(g+"-state-down")}).mouseup(function(){m.removeClass(g+"-state-down")}).hover(function(){m.not("."+g+"-state-active").not("."+g+"-state-disabled").addClass(g+"-state-hover")},function(){m.removeClass(g+"-state-hover").removeClass(g+"-state-down")}).appendTo(e);$(m),h||m.addClass(g+"-corner-left"),h=m}}}),h&&h.addClass(g+"-corner-right")}),e}function k(a){e.find("h2").html(a)}function l(a){e.find("span.fc-button-"+a).addClass(g+"-state-active")}function m(a){e.find("span.fc-button-"+a).removeClass(g+"-state-active")}function n(a){e.find("span.fc-button-"+a).addClass(g+"-state-disabled")}function o(a){e.find("span.fc-button-"+a).removeClass(g+"-state-disabled")}var d=this;d.render=h,d.destroy=i,d.updateTitle=k,d.activateButton=l,d.deactivateButton=m,d.disableButton=n,d.enableButton=o;var g,e=a([])}function l(c,d){function u(a,b){return!n||a<n||b>o}function v(a,b){n=a,o=b,s=[];var c=++p,d=m.length;q=d;for(var e=0;e<d;e++)x(m[e],c)}function x(b,d){y(b,function(e){if(d==p){if(e){c.eventDataTransform&&(e=a.map(e,c.eventDataTransform)),b.eventDataTransform&&(e=a.map(e,b.eventDataTransform));for(var f=0;f<e.length;f++)e[f].source=b,J(e[f]);s=s.concat(e)}q--,q||i(s)}})}function y(b,d){var f,h,g=e.sourceFetchers;for(f=0;f<g.length;f++){if(h=g[f](b,n,o,d),h===!0)return;if("object"==typeof h)return void y(h,d)}var i=b.events;if(i)a.isFunction(i)?(H(),i(w(n),w(o),function(a){d(a),I()})):a.isArray(i)?d(i):d();else{var k=b.url;if(k){var q,l=b.success,m=b.error,p=b.complete;q=a.isFunction(b.data)?b.data():b.data;var r=a.extend({},q||{}),s=da(b.startParam,c.startParam),t=da(b.endParam,c.endParam);s&&(r[s]=Math.round(+n/1e3)),t&&(r[t]=Math.round(+o/1e3)),H(),a.ajax(a.extend({},j,b,{data:r,success:function(b){b=b||[],b.items&&(b=b.items);var c=ca(l,this,arguments);a.isArray(c)&&(b=c),d(b)},error:function(){ca(m,this,arguments),d()},complete:function(){ca(p,this,arguments),I()}}))}else d()}}function z(a){a=B(a),a&&(q++,x(a,p))}function B(b){if(a.isFunction(b)||a.isArray(b)?b={events:b}:"string"==typeof b&&(b={url:b}),"object"==typeof b)return K(b),m.push(b),b}function C(b){m=a.grep(m,function(a){return!L(a,b)}),s=a.grep(s,function(a){return!L(a.source,b)}),i(s)}function D(a){var b,d,c=s.length,e=h().defaultEventEnd,f=a.start-a._start,g=a.end?a.end-(a._end||e(a)):0;for(b=0;b<c;b++)d=s[b],d._id==a._id&&d!=a&&(d.start=new Date(+d.start+f),a.end?d.end?d.end=new Date(+d.end+g):d.end=new Date(+e(d)+g):d.end=null,d.title=a.title,d.url=a.url,d.allDay=a.allDay,d.className=a.className,d.editable=a.editable,d.color=a.color,d.backgroundColor=a.backgroundColor,d.borderColor=a.borderColor,d.textColor=a.textColor,J(d));J(a),i(s)}function E(a,b){J(a),a.source||(b&&(l.events.push(a),a.source=l),s.push(a)),i(s)}function F(b){if(b){if(!a.isFunction(b)){var d=b+"";b=function(a){return a._id==d}}s=a.grep(s,b,!0);for(var c=0;c<m.length;c++)a.isArray(m[c].events)&&(m[c].events=a.grep(m[c].events,b,!0))}else{s=[];for(var c=0;c<m.length;c++)a.isArray(m[c].events)&&(m[c].events=[])}i(s)}function G(b){return a.isFunction(b)?a.grep(s,b):b?(b+="",a.grep(s,function(a){return a._id==b})):s}function H(){r++||g("loading",null,!0,h())}function I(){--r||g("loading",null,!1,h())}function J(a){var d=a.source||{},e=da(d.ignoreTimezone,c.ignoreTimezone);a._id=a._id||(a.id===b?"_fc"+k++:a.id+""),a.date&&(a.start||(a.start=a.date),delete a.date),a._start=w(a.start=A(a.start,e)),a.end=A(a.end,e),a.end&&a.end<=a.start&&(a.end=null),a._end=a.end?w(a.end):null,a.allDay===b&&(Math.abs(a._start-a._end)/36e5!=24?a.allDay=!1:a.allDay=da(d.allDayDefault,c.allDayDefault)),a.className?"string"==typeof a.className&&(a.className=a.className.split(/\s+/)):a.className=[],a.title||(a.title=a.summary||"")}function K(a){a.className?"string"==typeof a.className&&(a.className=a.className.split(/\s+/)):a.className=[];for(var b=e.sourceNormalizers,c=0;c<b.length;c++)b[c](a)}function L(a,b){return a&&b&&M(a)==M(b)}function M(a){return("object"==typeof a?a.events||a.url:"")||a}var f=this;f.isFetchNeeded=u,f.fetchEvents=v,f.addEventSource=z,f.removeEventSource=C,f.updateEvent=D,f.renderEvent=E,f.removeEvents=F,f.clientEvents=G,f.normalizeEvent=J;for(var n,o,g=f.trigger,h=f.getView,i=f.reportEvents,l={events:[]},m=[l],p=0,q=0,r=0,s=[],t=0;t<d.length;t++)B(d[t])}function q(a,b,c){return a.setFullYear(a.getFullYear()+b),c||v(a),a}function r(a,b,c){if(+a){var d=a.getMonth()+b,e=w(a);for(e.setDate(1),e.setMonth(d),a.setMonth(d),c||v(a);a.getMonth()!=e.getMonth();)a.setDate(a.getDate()+(a<e?1:-1))}return a}function s(a,b,c){if(+a){var d=a.getDate()+b,e=w(a);e.setHours(9),e.setDate(d),a.setDate(d),c||v(a),t(a,e)}return a}function t(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(a<b?1:-1)*o)}function u(a,b){return a.setMinutes(a.getMinutes()+b),a}function v(a){return a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a}function w(a,b){return b?v(new Date(+a)):new Date(+a)}function x(){var b,a=0;do b=new Date(1970,a++,1);while(b.getHours());return b}function y(a,b){return Math.round((w(a,!0)-w(b,!0))/n)}function z(a,c,d,e){c!==b&&c!=a.getFullYear()&&(a.setDate(1),a.setMonth(0),a.setFullYear(c)),d!==b&&d!=a.getMonth()&&(a.setDate(1),a.setMonth(d)),e!==b&&a.setDate(e)}function A(a,c){return"object"==typeof a?a.dateTime?new Date(a.dateTime):a:"number"==typeof a?new Date(1e3*a):"string"==typeof a?a.match(/^\d+(\.\d+)?$/)?new Date(1e3*parseFloat(a)):(c===b&&(c=!0),B(a,c)||(a?new Date(a):null)):null}function B(a,b){var c=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!c)return null;var d=new Date(c[1],0,1);if(b||!c[13]){var e=new Date(c[1],0,1,9,0);c[3]&&(d.setMonth(c[3]-1),e.setMonth(c[3]-1)),c[5]&&(d.setDate(c[5]),e.setDate(c[5])),t(d,e),c[7]&&d.setHours(c[7]),c[8]&&d.setMinutes(c[8]),c[10]&&d.setSeconds(c[10]),c[12]&&d.setMilliseconds(1e3*Number("0."+c[12])),t(d,e)}else if(d.setUTCFullYear(c[1],c[3]?c[3]-1:0,c[5]||1),d.setUTCHours(c[7]||0,c[8]||0,c[10]||0,c[12]?1e3*Number("0."+c[12]):0),c[14]){var f=60*Number(c[16])+(c[18]?Number(c[18]):0);f*="-"==c[15]?1:-1,d=new Date(+d+60*f*1e3)}return d}function C(a){if("number"==typeof a)return 60*a;if("object"==typeof a)return 60*a.getHours()+a.getMinutes();var b=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(b){var c=parseInt(b[1],10);return b[3]&&(c%=12,"p"==b[3].toLowerCase().charAt(0)&&(c+=12)),60*c+(b[2]?parseInt(b[2],10):0)}}function D(a,b,c){return E(a,null,b,c)}function E(a,b,d,e){e=e||c;var h,j,k,l,f=a,g=b,i=d.length,m="";for(h=0;h<i;h++)if(j=d.charAt(h),"'"==j){for(k=h+1;k<i;k++)if("'"==d.charAt(k)){f&&(m+=k==h+1?"'":d.substring(h+1,k),h=k);break}}else if("("==j){for(k=h+1;k<i;k++)if(")"==d.charAt(k)){var n=D(f,d.substring(h+1,k),e);parseInt(n.replace(/\D/,""),10)&&(m+=n),h=k;break}}else if("["==j){for(k=h+1;k<i;k++)if("]"==d.charAt(k)){var o=d.substring(h+1,k),n=D(f,o,e);n!=D(g,o,e)&&(m+=n),h=k;break}}else if("{"==j)f=b,g=a;else if("}"==j)f=a,g=b;else{for(k=i;k>h;k--)if(l=F[d.substring(h,k)]){f&&(m+=l(f,e)),h=k-1;break}k==h&&f&&(m+=j)}return m}function G(a){var b,c=new Date(a.getTime());return c.setDate(c.getDate()+4-(c.getDay()||7)),b=c.getTime(),c.setMonth(0),c.setDate(1),Math.floor(Math.round((b-c)/864e5)/7)+1}function H(a){return a.end?I(a.end,a.allDay):s(w(a.start),1)}function I(a,b){return a=w(a),b||a.getHours()||a.getMinutes()?s(a,1):v(a)}function J(c,d,e){c.unbind("mouseover").mouseover(function(c){for(var g,h,i,f=c.target;f!=this;)g=f,f=f.parentNode;(h=g._fci)!==b&&(g._fci=b,i=d[h],e(i.event,i.element,i),a(c.target).trigger(c)),c.stopPropagation()})}function K(b,c,d){for(var f,e=0;e<b.length;e++)f=a(b[e]),f.width(Math.max(0,c-M(f,d)))}function L(b,c,d){for(var f,e=0;e<b.length;e++)f=a(b[e]),f.height(Math.max(0,c-Q(f,d)))}function M(a,b){return N(a)+P(a)+(b?O(a):0)}function N(b){return(parseFloat(a.css(b[0],"paddingLeft",!0))||0)+(parseFloat(a.css(b[0],"paddingRight",!0))||0)}function O(b){return(parseFloat(a.css(b[0],"marginLeft",!0))||0)+(parseFloat(a.css(b[0],"marginRight",!0))||0)}function P(b){return(parseFloat(a.css(b[0],"borderLeftWidth",!0))||0)+(parseFloat(a.css(b[0],"borderRightWidth",!0))||0)}function Q(a,b){return R(a)+T(a)+(b?S(a):0)}function R(b){return(parseFloat(a.css(b[0],"paddingTop",!0))||0)+(parseFloat(a.css(b[0],"paddingBottom",!0))||0)}function S(b){return(parseFloat(a.css(b[0],"marginTop",!0))||0)+(parseFloat(a.css(b[0],"marginBottom",!0))||0)}function T(b){return(parseFloat(a.css(b[0],"borderTopWidth",!0))||0)+(parseFloat(a.css(b[0],"borderBottomWidth",!0))||0)}function U(){}function V(a,b){return a-b}function W(a){return Math.max.apply(Math,a)}function X(a){return(a<10?"0":"")+a}function Y(a,c){if(a[c]!==b)return a[c];for(var f,d=c.split(/(?=[A-Z])/),e=d.length-1;e>=0;e--)if(f=a[d[e].toLowerCase()],f!==b)return f;return a[""]}function Z(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function $(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function _(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function ba(a,b){var c=a.source||{},d=a.color,e=c.color,f=b("eventColor"),g=a.backgroundColor||d||c.backgroundColor||e||b("eventBackgroundColor")||f,h=a.borderColor||d||c.borderColor||e||b("eventBorderColor")||f,i=a.textColor||c.textColor||b("eventTextColor"),j=[];return g&&j.push("background-color:"+g),h&&j.push("border-color:"+h),i&&j.push("color:"+i),j.join(";")}function ca(b,c,d){if(a.isFunction(b)&&(b=[b]),b){var e,f;for(e=0;e<b.length;e++)f=b[e].apply(c,d)||f;return f}}function da(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==b)return arguments[a]}function ea(a,b){function i(a,b){b&&(r(a,b),a.setDate(1));var i=d("firstDay"),j=w(a,!0);j.setDate(1);var k=r(w(j),1),l=w(j);s(l,-((l.getDay()-i+7)%7)),f(l);var m=w(k);s(m,(7-m.getDay()+i)%7),f(m,-1,!0);var n=g(),o=Math.round(y(m,l)/7);"fixed"==d("weekMode")&&(s(m,7*(6-o)),o=6),c.title=h(j,d("titleFormat")),c.start=j,c.end=k,c.visStart=l,c.visEnd=m,e(o,n,!0)}var c=this;c.render=i,ha.call(c,a,b,"month");var d=c.opt,e=c.renderBasic,f=c.skipHiddenDays,g=c.getCellsPerWeek,h=b.formatDate}function fa(a,b){function i(a,b){b&&s(a,7*b);var i=s(w(a),-((a.getDay()-d("firstDay")+7)%7)),j=s(w(i),7),k=w(i);f(k);var l=w(j);f(l,-1,!0);var m=g();c.start=i,c.end=j,c.visStart=k,c.visEnd=l,c.title=h(k,s(w(l),-1),d("titleFormat")),e(1,m,!1)}var c=this;c.render=i,ha.call(c,a,b,"basicWeek");var d=c.opt,e=c.renderBasic,f=c.skipHiddenDays,g=c.getCellsPerWeek,h=b.formatDates}function ga(a,b){function h(a,b){b&&s(a,b),f(a,b<0?-1:1);var h=w(a,!0),i=s(w(h),1);c.title=g(a,d("titleFormat")),c.start=c.visStart=h,c.end=c.visEnd=i,e(1,1,!1)}var c=this;c.render=h,ha.call(c,a,b,"basicDay");var d=c.opt,e=c.renderBasic,f=c.skipHiddenDays,g=b.formatDate}function ha(b,c,d){function V(a,b,c){H=a,I=b,J=c,W(),t||X(),Y()}function W(){P=f("theme")?"ui":"fc",R=f("columnFormat"),S=f("weekNumbers"),T=f("weekNumberTitle"),U="iso"!=f("weekNumberCalculation")?"w":"W"}function X(){C=a("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(b)}function Y(){var c=aa();p&&p.remove(),p=a(c).appendTo(b),q=p.find("thead"),r=q.find(".fc-day-header"),t=p.find("tbody"),u=t.find("tr"),x=t.find(".fc-day"),y=u.find("td:first-child"),z=u.eq(0).find(".fc-day > div"),A=u.eq(0).find(".fc-day-content > div"),_(q.add(q.find("tr"))),_(u),u.eq(0).addClass("fc-first"),u.filter(":last").addClass("fc-last"),x.each(function(b,c){var d=k(Math.floor(b/I),b%I);g("dayRender",e,d,a(c))}),ga(x)}function aa(){var a="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+ba()+ca()+"</table>";return a}function ba(){var c,d,a=P+"-widget-header",b="";for(b+="<thead><tr>",S&&(b+="<th class='fc-week-number "+a+"'>"+Z(T)+"</th>"),c=0;c<I;c++)d=k(0,c),b+="<th class='fc-day-header fc-"+m[d.getDay()]+" "+a+"'>"+Z(o(d,R))+"</th>";return b+="</tr></thead>"}function ca(){var c,d,e,a=P+"-widget-content",b="";for(b+="<tbody>",c=0;c<H;c++){for(b+="<tr class='fc-week'>",S&&(e=k(c,0),b+="<td class='fc-week-number "+a+"'><div>"+Z(o(e,U))+"</div></td>"),d=0;d<I;d++)e=k(c,d),b+=da(e);b+="</tr>"}return b+="</tbody>"}function da(a){var b=P+"-widget-content",c=e.start.getMonth(),d=v(new Date),f="",g=["fc-day","fc-"+m[a.getDay()],b];return a.getMonth()!=c&&g.push("fc-other-month"),+a==+d?g.push("fc-today",P+"-state-highlight"):a<d?g.push("fc-past"):g.push("fc-future"),f+="<td class='"+g.join(" ")+"' data-date='"+o(a,"yyyy-MM-dd")+"'><div>",J&&(f+="<div class='fc-day-number'>"+a.getDate()+"</div>"),f+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}function ea(b){E=b;var d,e,g,c=E-q.height();"variable"==f("weekMode")?d=e=Math.floor(c/(1==H?2:6)):(d=Math.floor(c/H),e=c-d*(H-1)),y.each(function(b,c){b<H&&(g=a(c),g.find("> div").css("min-height",(b==H-1?e:d)-Q(g)))})}function fa(a){D=a,N.clear(),O.clear(),G=0,S&&(G=q.find("th.fc-week-number").outerWidth()),F=Math.floor((D-G)/I),K(r.slice(0,-1),F)}function ga(a){a.click(ha).mousedown(j)}function ha(b){if(!f("selectable")){var c=B(a(this).data("date"));g("dayClick",this,c,!0,b)}}function ja(a,b,c){c&&L.build();for(var d=n(a,b),e=0;e<d.length;e++){var f=d[e];ga(ka(f.row,f.leftCol,f.row,f.rightCol))}}function ka(a,c,d,e){var f=L.rect(a,c,d,e,b);return h(f,b)}function la(a,b){return w(a)}function ma(a,b,c){ja(a,s(w(b),1),!0)}function na(){i()}function oa(a,b,c){var d=l(a),e=x[d.row*I+d.col];g("dayClick",e,a,b,c)}function pa(a,b,c){M.start(function(a){i(),a&&ka(a.row,a.col,a.row,a.col)},b)}function qa(a,b,c){var d=M.stop();if(i(),d){var e=k(d);g("drop",a,e,!0,b,c)}}function ra(a){return w(a.start)}function sa(a){return N.left(a)}function ta(a){return N.right(a)}function ua(a){return O.left(a)}function va(a){return O.right(a)}function wa(a){return u.eq(a)}var e=this;e.renderBasic=V,e.setHeight=ea,e.setWidth=fa,e.renderDayOverlay=ja,e.defaultSelectionEnd=la,e.renderSelection=ma,e.clearSelection=na,e.reportDayClick=oa,e.dragStart=pa,e.dragStop=qa,e.defaultEventEnd=ra,e.getHoverListener=function(){return M},e.colLeft=sa,e.colRight=ta,e.colContentLeft=ua,e.colContentRight=va,e.getIsCellAllDay=function(){return!0},e.allDayRow=wa,e.getRowCnt=function(){return H},e.getColCnt=function(){return I},e.getColWidth=function(){return F},e.getDaySegmentContainer=function(){return C},xa.call(e,b,c,d),Da.call(e),Ca.call(e),ia.call(e);var p,q,r,t,u,x,y,z,A,C,D,E,F,G,H,I,J,L,M,N,O,P,R,S,T,U,f=e.opt,g=e.trigger,h=e.renderOverlay,i=e.clearOverlays,j=e.daySelectionMousedown,k=e.cellToDate,l=e.dateToCell,n=e.rangeToSegments,o=c.formatDate;$(b.addClass("fc-grid")),L=new Ea(function(b,c){var d,e,f;r.each(function(b,g){d=a(g),e=d.offset().left,b&&(f[1]=e),f=[e],c[b]=f}),f[1]=e+d.outerWidth(),u.each(function(c,g){c<H&&(d=a(g),e=d.offset().top,c&&(f[1]=e),f=[e],b[c]=f)}),f[1]=e+d.outerHeight()}),M=new Fa(L),N=new Ha(function(a){return z.eq(a)}),O=new Ha(function(a){return A.eq(a)})}function ia(){function b(b,c){a.renderDayEvents(b,c)}function c(){a.getDaySegmentContainer().empty()}var a=this;a.renderEvents=b,a.clearEvents=c,ya.call(a)}function ja(a,b){function i(a,b){b&&s(a,7*b);var i=s(w(a),-((a.getDay()-d("firstDay")+7)%7)),j=s(w(i),7),k=w(i);f(k);var l=w(j);f(l,-1,!0);var m=g();c.title=h(k,s(w(l),-1),d("titleFormat")),c.start=i,c.end=j,c.visStart=k,c.visEnd=l,e(m)}var c=this;c.render=i,la.call(c,a,b,"agendaWeek");var d=c.opt,e=c.renderAgenda,f=c.skipHiddenDays,g=c.getCellsPerWeek,h=b.formatDates}function ka(a,b){function h(a,b){b&&s(a,b),f(a,b<0?-1:1);var h=w(a,!0),i=s(w(h),1);c.title=g(a,d("titleFormat")),c.start=c.visStart=h,c.end=c.visEnd=i,e(1)}var c=this;c.render=h,la.call(c,a,b,"agendaDay");var d=c.opt,e=c.renderAgenda,f=c.skipHiddenDays,g=b.formatDate}function la(c,d,e){function va(a){fa=a,wa(),y?za():ya()}function wa(){na=g("theme")?"ui":"fc",oa=g("isRTL"),pa=C(g("minTime")),qa=C(g("maxTime")),ra=g("columnFormat"),sa=g("weekNumbers"),ta=g("weekNumberTitle"),ua="iso"!=g("weekNumberCalculation")?"w":"W",ca=g("snapMinutes")||g("slotMinutes")}function ya(){var e,f,h,i,j,b=na+"-widget-header",d=na+"-widget-content",k=g("slotMinutes")%15==0;for(za(),I=a("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(c),g("allDaySlot")?(J=a("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(I),e="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+b+" fc-agenda-axis'>"+g("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+b+" fc-agenda-gutter'>&nbsp;</th></tr></table>",M=a(e).appendTo(I),N=M.find("tr"),Ma(N.find("td")),I.append("<div class='fc-agenda-divider "+b+"'><div class='fc-agenda-divider-inner'/></div>")):J=a([]),O=a("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(I),P=a("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(O),R=a("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(P),e="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",f=x(),i=u(w(f),qa),u(f,pa),ga=0,h=0;f<i;h++)j=f.getMinutes(),e+="<tr class='fc-slot"+h+" "+(j?"fc-minor":"")+"'><th class='fc-agenda-axis "+b+"'>"+(k&&j?"&nbsp;":t(f,g("axisFormat")))+"</th><td class='"+d+"'><div style='position:relative'>&nbsp;</div></td></tr>",u(f,g("slotMinutes")),ga++;e+="</tbody></table>",S=a(e).appendTo(P),Na(S.find("td"))}function za(){var b=Aa();y&&y.remove(),y=a(b).appendTo(c),z=y.find("thead"),A=z.find("th").slice(1,-1),B=y.find("tbody"),D=B.find("td").slice(0,-1),E=D.find("> div"),F=D.find(".fc-day-content > div"),G=D.eq(0),H=E.eq(0),_(z.add(z.find("tr"))),_(B.add(B.find("tr")))}function Aa(){var a="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+Ba()+Ga()+"</table>";return a}function Ba(){var b,d,e,a=na+"-widget-header",c="";for(c+="<thead><tr>",sa?(b=p(0,0),d=t(b,ua),oa?d+=ta:d=ta+d,c+="<th class='fc-agenda-axis fc-week-number "+a+"'>"+Z(d)+"</th>"):c+="<th class='fc-agenda-axis "+a+"'>&nbsp;</th>",e=0;e<fa;e++)b=p(0,e),c+="<th class='fc-"+m[b.getDay()]+" fc-col"+e+" "+a+"'>"+Z(t(b,ra))+"</th>";return c+="<th class='fc-agenda-gutter "+a+"'>&nbsp;</th></tr></thead>"}function Ga(){var c,e,f,g,h,a=na+"-widget-header",b=na+"-widget-content",d=v(new Date),i="";for(i+="<tbody><tr><th class='fc-agenda-axis "+a+"'>&nbsp;</th>",f="",e=0;e<fa;e++)c=p(0,e),h=["fc-col"+e,"fc-"+m[c.getDay()],b],+c==+d?h.push(na+"-state-highlight","fc-today"):c<d?h.push("fc-past"):h.push("fc-future"),g="<td class='"+h.join(" ")+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>",f+=g;return i+=f,i+="<td class='fc-agenda-gutter "+b+"'>&nbsp;</td></tr></tbody>"}function Ia(a){a===b&&(a=W),W=a,la={};var c=B.position().top,d=O.position().top,e=Math.min(a-c,S.height()+d+1);H.height(e-Q(G)),I.css("top",c),O.height(e-d-1),ba=S.find("tr:first").height()+1,da=g("slotMinutes")/ca,ea=ba/da}function Ja(b){U=b,ja.clear(),ka.clear();var c=z.find("th:first");M&&(c=c.add(M.find("th:first"))),c=c.add(S.find("th:first")),X=0,K(c.width("").each(function(b,c){X=Math.max(X,a(c).outerWidth())}),X);var d=y.find(".fc-agenda-gutter");M&&(d=d.add(M.find("th.fc-agenda-gutter")));var e=O[0].clientWidth;aa=O.width()-e,aa?(K(d,aa),d.show().prev().removeClass("fc-last")):d.hide().prev().addClass("fc-last"),Y=Math.floor((e-X)/fa),K(A.slice(0,-1),Y)}function Ka(){function d(){O.scrollTop(c)}var a=x(),b=w(a);b.setHours(g("firstHour"));var c=Ya(a,b)+1;d(),setTimeout(d,0)}function La(){Ka()}function Ma(a){a.click(Oa).mousedown(n)}function Na(a){a.click(Oa).mousedown(db)}function Oa(a){if(!g("selectable")){var b=Math.min(fa-1,Math.floor((a.pageX-y.offset().left-X)/Y)),c=p(0,b),d=this.parentNode.className.match(/fc-slot(\d+)/);if(d){var e=parseInt(d[1])*g("slotMinutes"),f=Math.floor(e/60);c.setHours(f),c.setMinutes(e%60+pa),h("dayClick",D[b],c,!1,a)}else h("dayClick",D[b],c,!0,a)}}function Pa(a,b,c){c&&ha.build();for(var d=r(a,b),e=0;e<d.length;e++){var f=d[e];Ma(Qa(f.row,f.leftCol,f.row,f.rightCol))}}function Qa(a,b,c,d){var e=ha.rect(a,b,c,d,I);return i(e,I)}function Ra(a,b){for(var c=0;c<fa;c++){var d=p(0,c),e=s(w(d),1),f=new Date(Math.max(d,a)),g=new Date(Math.min(e,b));if(f<g){var h=ha.rect(0,c,0,c,P),j=Ya(d,f),k=Ya(d,g);h.top=j,h.height=k-j,Na(i(h,P))}}}function Sa(a){return ja.left(a)}function Ta(a){return ka.left(a)}function Ua(a){return ja.right(a)}function Va(a){return ka.right(a)}function Wa(a){return g("allDaySlot")&&!a.row}function Xa(a){var b=p(0,a.col),c=a.row;return g("allDaySlot")&&c--,c>=0&&u(b,pa+c*ca),b}function Ya(a,c){if(a=w(a,!0),c<u(w(a),pa))return 0;if(c>=u(w(a),qa))return S.height();var d=g("slotMinutes"),e=60*c.getHours()+c.getMinutes()-pa,f=Math.floor(e/d),h=la[f];return h===b&&(h=la[f]=S.find("tr").eq(f).find("td div")[0].offsetTop),Math.max(0,Math.round(h-1+ba*(e%d/d)))}function Za(a){return N}function $a(a){var b=w(a.start);return a.allDay?b:u(b,g("defaultEventMinutes"))}function _a(a,b){return b?w(a):u(w(a),g("slotMinutes"))}function ab(a,b,c){c?g("allDaySlot")&&Pa(a,s(w(b),1),!0):bb(a,b)}function bb(b,c){var d=g("selectHelper");if(ha.build(),d){var e=q(b).col;if(e>=0&&e<fa){var f=ha.rect(0,e,0,e,P),h=Ya(b,b),i=Ya(b,c);if(i>h){if(f.top=h,f.height=i-h,f.left+=2,f.width-=5,a.isFunction(d)){var j=d(b,c);j&&(f.position="absolute",T=a(j).css(f).appendTo(P))}else f.isStart=!0,f.isEnd=!0,T=a(o({title:"",start:b,end:c,className:["fc-select-helper"],editable:!1},f)),T.css("opacity",g("dragOpacity"));T&&(Na(T),P.append(T),K(T,f.width,!0),L(T,f.height,!0))}}}else Ra(b,c)}function cb(){j(),T&&(T.remove(),T=null)}function db(b){if(1==b.which&&g("selectable")){l(b);var c;ia.start(function(a,b){if(cb(),a&&a.col==b.col&&!Wa(a)){var d=Xa(b),e=Xa(a);c=[d,u(w(d),ca),e,u(w(e),ca)].sort(V),bb(c[0],c[3])}else c=null},b),a(document).one("mouseup",function(a){ia.stop(),c&&(+c[0]==+c[1]&&eb(c[0],!1,a),k(c[0],c[3],!1,a))})}}function eb(a,b,c){h("dayClick",D[q(a).col],a,b,c)}function fb(a,b,c){ia.start(function(a){if(j(),a)if(Wa(a))Qa(a.row,a.col,a.row,a.col);else{var b=Xa(a),c=u(w(b),g("defaultEventMinutes"));Ra(b,c)}},b)}function gb(a,b,c){var d=ia.stop();j(),d&&h("drop",a,Xa(d),Wa(d),b,c)}var f=this;f.renderAgenda=va,f.setWidth=Ja,f.setHeight=Ia,f.afterRender=La,f.defaultEventEnd=$a,f.timePosition=Ya,f.getIsCellAllDay=Wa,f.allDayRow=Za,f.getCoordinateGrid=function(){return ha},f.getHoverListener=function(){return ia},f.colLeft=Sa,f.colRight=Ua,f.colContentLeft=Ta,f.colContentRight=Va,f.getDaySegmentContainer=function(){return J},f.getSlotSegmentContainer=function(){return R},f.getMinMinute=function(){return pa},f.getMaxMinute=function(){return qa},f.getSlotContainer=function(){return P},f.getRowCnt=function(){return 1},f.getColCnt=function(){return fa},f.getColWidth=function(){return Y},f.getSnapHeight=function(){return ea},f.getSnapMinutes=function(){return ca},f.defaultSelectionEnd=_a,f.renderDayOverlay=Pa,f.renderSelection=ab,f.clearSelection=cb,f.reportDayClick=eb,f.dragStart=fb,f.dragStop=gb,xa.call(f,c,d,e),Da.call(f),Ca.call(f),ma.call(f);var y,z,A,B,D,E,F,G,H,I,J,M,N,O,P,R,S,T,U,W,X,Y,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,na,oa,pa,qa,ra,sa,ta,ua,g=f.opt,h=f.trigger,i=f.renderOverlay,j=f.clearOverlays,k=f.reportSelection,l=f.unselect,n=f.daySelectionMousedown,o=f.slotSegHtml,p=f.cellToDate,q=f.dateToCell,r=f.rangeToSegments,t=d.formatDate,la={};$(c.addClass("fc-agenda")),ha=new Ea(function(b,c){function k(a){return Math.max(i,Math.min(j,a))}var d,e,f;A.each(function(b,g){d=a(g),e=d.offset().left,b&&(f[1]=e),f=[e],c[b]=f}),f[1]=e+d.outerWidth(),g("allDaySlot")&&(d=N,e=d.offset().top,b[0]=[e,e+d.outerHeight()]);for(var h=P.offset().top,i=O.offset().top,j=i+O.outerHeight(),l=0;l<ga*da;l++)b.push([k(h+ea*l),k(h+ea*(l+1))])}),ia=new Fa(ha),ja=new Ha(function(a){return E.eq(a)}),ka=new Ha(function(a){return F.eq(a)})}function ma(){function U(a,b){var c,e=a.length,f=[],g=[];for(c=0;c<e;c++)a[c].allDay?f.push(a[c]):g.push(a[c]);d("allDaySlot")&&(P(f,b),j()),$(W(g),b)}function V(){k().empty(),l().empty()}function W(b){var f,h,i,j,k,c=z(),d=o(),e=n(),g=a.map(b,Y),l=[];for(h=0;h<c;h++)for(f=x(0,h),u(f,d),k=X(b,g,f,u(w(f),e-d)),k=na(k),i=0;i<k.length;i++)j=k[i],j.col=h,l.push(j);return l}function X(a,b,c,d){var f,h,i,j,k,l,m,n,e=[],g=a.length;for(f=0;f<g;f++)h=a[f],i=h.start,j=b[f],j>c&&i<d&&(i<c?(k=w(c),m=!1):(k=i,m=!0),j>d?(l=w(d),n=!1):(l=j,n=!0),e.push({event:h,start:k,end:l,isStart:m,isEnd:n}));return e.sort(wa)}function Y(a){return a.end?w(a.end):u(w(a.start),d("defaultEventMinutes"))}function $(c,f){var g,i,j,k,m,n,o,p,r,s,u,x,y,z,A,B,h=c.length,w="",C=l(),D=d("isRTL");for(g=0;g<h;g++)i=c[g],j=i.event,k=q(i.start,i.start),m=q(i.start,i.end),n=t(i.col),o=v(i.col),p=o-n,o-=.025*p,p=o-n,r=p*(i.forwardCoord-i.backwardCoord),d("slotEventOverlap")&&(r=Math.max(2*(r-10),r)),D?(u=o-i.backwardCoord*p,s=u-r):(s=n+i.backwardCoord*p,u=s+r),s=Math.max(s,n),u=Math.min(u,o),r=u-s,i.top=k,i.left=s,i.outerWidth=r,i.outerHeight=m-k,w+=_(j,i);for(C[0].innerHTML=w,x=C.children(),g=0;g<h;g++)i=c[g],j=i.event,y=a(x[g]),z=e("eventRender",j,j,y),z===!1?y.remove():(z&&z!==!0&&(y.remove(),y=a(z).css({position:"absolute",top:i.top,left:i.left}).appendTo(C)),i.element=y,j._id===f?aa(j,y,i):y[0]._fci=g,E(j,y));for(J(C,c,aa),g=0;g<h;g++)i=c[g],(y=i.element)&&(i.vsides=Q(y,!0),i.hsides=M(y,!0),A=y.find(".fc-event-title"),A.length&&(i.contentTop=A[0].offsetTop));for(g=0;g<h;g++)i=c[g],(y=i.element)&&(y[0].style.width=Math.max(0,i.outerWidth-i.hsides)+"px",B=Math.max(0,i.outerHeight-i.vsides),y[0].style.height=B+"px",j=i.event,i.contentTop!==b&&B-i.contentTop<10&&(y.find("div.fc-event-time").text(S(j.start,d("timeFormat"))+" - "+j.title),y.find("div.fc-event-title").remove()),e("eventAfterRender",j,j,y))}function _(a,b){var c="<",e=a.url,h=ba(a,d),i=["fc-event","fc-event-vert"];return f(a)&&i.push("fc-event-draggable"),b.isStart&&i.push("fc-event-start"),b.isEnd&&i.push("fc-event-end"),i=i.concat(a.className),a.source&&(i=i.concat(a.source.className||[])),c+=e?"a href='"+Z(a.url)+"'":"div",c+=" class='"+i.join(" ")+"' style='position:absolute;top:"+b.top+"px;left:"+b.left+"px;"+h+"'><div class='fc-event-inner'><div class='fc-event-time'>"+Z(T(a.start,a.end,d("timeFormat")))+"</div><div class='fc-event-title'>"+Z(a.title||"")+"</div></div><div class='fc-event-bg'></div>",b.isEnd&&g(a)&&(c+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),c+="</"+(e?"a":"div")+">"}function aa(a,b,c){var d=b.find("div.fc-event-time");f(a)&&da(a,b,d),c.isEnd&&g(a)&&ea(a,b,d),i(a,b)}function ca(a,b,c){function t(){i||(b.width(g).height("").draggable("option","grid",null),i=!0)}var g,h,j,f=c.isStart,i=!0,k=m(),l=A(),n=B(),q=C(),r=o();b.draggable({opacity:d("dragOpacity","month"),revertDuration:d("dragRevertDuration"),start:function(c,m){e("eventDragStart",b,a,c,m),G(a,b),g=b.width(),k.start(function(c,e){if(O(),c){h=!1;var g=x(0,e.col),k=x(0,c.col);j=y(k,g),c.row?f?i&&(b.width(l-10),L(b,n*Math.round((a.end?(a.end-a.start)/p:d("defaultEventMinutes"))/q)),b.draggable("option","grid",[l,1]),i=!1):h=!0:(N(s(w(a.start),j),s(H(a),j)),t()),h=h||i&&!j}else t(),h=!0;b.draggable("option","revert",h)},c,"drag")},stop:function(c,d){
if(k.stop(),O(),e("eventDragStop",b,a,c,d),h)t(),b.css("filter",""),F(a,b);else{var f=0;i||(f=Math.round((b.offset().top-D().offset().top)/n)*q+r-(60*a.start.getHours()+a.start.getMinutes())),I(this,a,j,f,i,c,d)}}})}function da(a,b,f){function K(){O(),n&&(p?(f.hide(),b.draggable("option","grid",null),N(s(w(a.start),D),s(H(a),D))):(L(E),f.css("display",""),b.draggable("option","grid",[i,j])))}function L(b){var e,c=u(w(a.start),b);a.end&&(e=u(w(a.end),b)),f.text(T(c,e,d("timeFormat")))}var l,m,n,o,p,q,t,v,D,E,J,g=c.getCoordinateGrid(),h=z(),i=A(),j=B(),k=C();b.draggable({scroll:!1,grid:[i,j],axis:1==h&&"y",opacity:d("dragOpacity"),revertDuration:d("dragRevertDuration"),start:function(c,d){e("eventDragStart",b,a,c,d),G(a,b),g.build(),l=b.position(),m=g.cell(c.pageX,c.pageY),n=o=!0,p=q=r(m),t=v=0,D=0,E=J=0},drag:function(a,c){var d=g.cell(a.pageX,a.pageY);if(n=!!d){if(p=r(d),t=Math.round((c.position.left-l.left)/i),t!=v){var e=x(0,m.col),f=m.col+t;f=Math.max(0,f),f=Math.min(h-1,f);var s=x(0,f);D=y(s,e)}p||(E=Math.round((c.position.top-l.top)/j)*k)}n==o&&p==q&&t==v&&E==J||(K(),o=n,q=p,v=t,J=E),b.draggable("option","revert",!n)},stop:function(c,d){O(),e("eventDragStop",b,a,c,d),n&&(p||D||E)?I(this,a,D,p?0:E,p,c,d):(n=!0,p=!1,t=0,D=0,E=0,K(),b.css("filter",""),b.css(l),F(a,b))}})}function ea(a,b,c){var f,g,i=B(),j=C();b.resizable({handles:{s:".ui-resizable-handle"},grid:i,start:function(c,d){f=g=0,G(a,b),e("eventResizeStart",this,a,c,d)},resize:function(e,k){f=Math.round((Math.max(i,b.height())-k.originalSize.height)/i),f!=g&&(c.text(T(a.start,f||a.end?u(h(a),j*f):null,d("timeFormat"))),g=f)},stop:function(c,d){e("eventResizeStop",this,a,c,d),f?K(this,a,0,j*f,c,d):F(a,b)}})}var c=this;c.renderEvents=U,c.clearEvents=V,c.slotSegHtml=_,ya.call(c);var d=c.opt,e=c.trigger,f=c.isEventDraggable,g=c.isEventResizable,h=c.eventEnd,i=c.eventElementHandlers,j=c.setHeight,k=c.getDaySegmentContainer,l=c.getSlotSegmentContainer,m=c.getHoverListener,n=c.getMaxMinute,o=c.getMinMinute,q=c.timePosition,r=c.getIsCellAllDay,t=c.colContentLeft,v=c.colContentRight,x=c.cellToDate,z=c.getColCnt,A=c.getColWidth,B=c.getSnapHeight,C=c.getSnapMinutes,D=c.getSlotContainer,E=c.reportEventElement,F=c.showEvents,G=c.hideEvents,I=c.eventDrop,K=c.eventResize,N=c.renderDayOverlay,O=c.clearOverlays,P=c.renderDayEvents,R=c.calendar,S=R.formatDate,T=R.formatDates;c.draggableDayEvent=ca}function na(a){var d,b=oa(a),c=b[0];if(pa(b),c){for(d=0;d<c.length;d++)qa(c[d]);for(d=0;d<c.length;d++)ra(c[d],0,0)}return sa(b)}function oa(a){var c,d,e,b=[];for(c=0;c<a.length;c++){for(d=a[c],e=0;e<b.length&&ta(d,b[e]).length;e++);(b[e]||(b[e]=[])).push(d)}return b}function pa(a){var b,c,d,e,f;for(b=0;b<a.length;b++)for(c=a[b],d=0;d<c.length;d++)for(e=c[d],e.forwardSegs=[],f=b+1;f<a.length;f++)ta(e,a[f],e.forwardSegs)}function qa(a){var e,f,c=a.forwardSegs,d=0;if(a.forwardPressure===b){for(e=0;e<c.length;e++)f=c[e],qa(f),d=Math.max(d,1+f.forwardPressure);a.forwardPressure=d}}function ra(a,c,d){var f,e=a.forwardSegs;if(a.forwardCoord===b)for(e.length?(e.sort(va),ra(e[0],c+1,d),a.forwardCoord=e[0].backwardCoord):a.forwardCoord=1,a.backwardCoord=a.forwardCoord-(a.forwardCoord-d)/(c+1),f=0;f<e.length;f++)ra(e[f],0,a.forwardCoord)}function sa(a){var c,d,e,b=[];for(c=0;c<a.length;c++)for(d=a[c],e=0;e<d.length;e++)b.push(d[e]);return b}function ta(a,b,c){c=c||[];for(var d=0;d<b.length;d++)ua(a,b[d])&&c.push(b[d]);return c}function ua(a,b){return a.end>b.start&&a.start<b.end}function va(a,b){return b.forwardPressure-a.forwardPressure||(a.backwardCoord||0)-(b.backwardCoord||0)||wa(a,b)}function wa(a,b){return a.start-b.start||b.end-b.start-(a.end-a.start)||(a.event.title||"").localeCompare(b.event.title)}function xa(c,d,e){function n(b,c){var d=m[b];return a.isPlainObject(d)?Y(d,c||e):d}function o(a,b){return d.trigger.apply(d,[a,b||f].concat(Array.prototype.slice.call(arguments,2),[f]))}function p(a){var b=a.source||{};return da(a.startEditable,b.startEditable,n("eventStartEditable"),a.editable,b.editable,n("editable"))&&!n("disableDragging")}function q(a){var b=a.source||{};return da(a.durationEditable,b.durationEditable,n("eventDurationEditable"),a.editable,b.editable,n("editable"))&&!n("disableResizing")}function r(a){j={};var b,d,c=a.length;for(b=0;b<c;b++)d=a[b],j[d._id]?j[d._id].push(d):j[d._id]=[d]}function t(){j={},k={},l=[]}function v(a){return a.end?w(a.end):g(a)}function x(a,b){l.push({event:a,element:b}),k[a._id]?k[a._id].push(b):k[a._id]=[b]}function z(){a.each(l,function(a,b){f.trigger("eventDestroy",b.event,b.event,b.element)})}function A(a,b){b.click(function(c){if(!b.hasClass("ui-draggable-dragging")&&!b.hasClass("ui-resizable-resizing"))return o("eventClick",this,a,c)}).hover(function(b){o("eventMouseover",this,a,b)},function(b){o("eventMouseout",this,a,b)})}function B(a,b){D(a,b,"show")}function C(a,b){D(a,b,"hide")}function D(a,b,c){var e,d=k[a._id],f=d.length;for(e=0;e<f;e++)b&&d[e][0]==b[0]||d[e][c]()}function E(a,b,c,d,e,f,g){var h=b.allDay,k=b._id;G(j[k],c,d,e),o("eventDrop",a,b,c,d,e,function(){G(j[k],-c,-d,h),i(k)},f,g),i(k)}function F(a,b,c,d,e,f){var g=b._id;H(j[g],c,d),o("eventResize",a,b,c,d,function(){H(j[g],-c,-d),i(g)},e,f),i(g)}function G(a,c,d,e){d=d||0;for(var f,g=a.length,i=0;i<g;i++)f=a[i],e!==b&&(f.allDay=e),u(s(f.start,c,!0),d),f.end&&(f.end=u(s(f.end,c,!0),d)),h(f,m)}function H(a,b,c){c=c||0;for(var d,e=a.length,f=0;f<e;f++)d=a[f],d.end=u(s(v(d),b,!0),c),h(d,m)}function O(a){return"object"==typeof a&&(a=a.getDay()),J[a]}function P(){return K}function Q(a,b,c){for(b=b||1;J[(a.getDay()+(c?b:0)+7)%7];)s(a,b)}function R(){var a=S.apply(null,arguments),b=T(a),c=U(b);return c}function S(a,b){var c=f.getColCnt(),d=N?-1:1,e=N?c-1:0;"object"==typeof a&&(b=a.col,a=a.row);var g=a*c+(b*d+e);return g}function T(a){var b=f.visStart.getDay();return a+=L[b],7*Math.floor(a/K)+M[(a%K+K)%K]-b}function U(a){var b=w(f.visStart);return s(b,a),b}function V(a){var b=W(a),c=X(b),d=Z(c);return d}function W(a){return y(a,f.visStart)}function X(a){var b=f.visStart.getDay();return a+=b,Math.floor(a/7)*K+L[(a%7+7)%7]-L[b]}function Z(a){var b=f.getColCnt(),c=N?-1:1,d=N?b-1:0,e=Math.floor(a/b),g=(a%b+b)%b*c+d;return{row:e,col:g}}function $(a,b){for(var c=f.getRowCnt(),d=f.getColCnt(),e=[],g=W(a),h=W(b),i=X(g),j=X(h)-1,k=0;k<c;k++){var l=k*d,m=l+d-1,n=Math.max(i,l),o=Math.min(j,m);if(n<=o){var p=Z(n),q=Z(o),r=[p.col,q.col].sort(),s=T(n)==g,t=T(o)+1==h;e.push({row:k,leftCol:r[0],rightCol:r[1],isStart:s,isEnd:t})}}return e}var f=this;f.element=c,f.calendar=d,f.name=e,f.opt=n,f.trigger=o,f.isEventDraggable=p,f.isEventResizable=q,f.setEventData=r,f.clearEventData=t,f.eventEnd=v,f.reportEventElement=x,f.triggerEventDestroy=z,f.eventElementHandlers=A,f.showEvents=B,f.hideEvents=C,f.eventDrop=E,f.eventResize=F;var g=f.defaultEventEnd,h=d.normalizeEvent,i=d.reportEventChange,j={},k={},l=[],m=d.options;f.isHiddenDay=O,f.skipHiddenDays=Q,f.getCellsPerWeek=P,f.dateToCell=V,f.dateToDayOffset=W,f.dayOffsetToCellOffset=X,f.cellOffsetToCell=Z,f.cellToDate=R,f.cellToCellOffset=S,f.cellOffsetToDayOffset=T,f.dayOffsetToDate=U,f.rangeToSegments=$;var K,I=n("hiddenDays")||[],J=[],L=[],M=[],N=n("isRTL");!function(){n("weekends")===!1&&I.push(0,6);for(var b=0,c=0;b<7;b++)L[b]=c,J[b]=a.inArray(b,I)!=-1,J[b]||(M[c]=b,c++);if(K=c,!K)throw"invalid hiddenDays"}()}function ya(){function O(a,b){var c=Q(a,!1,!0);Aa(c,function(a,b){h(a.event,b)}),fa(c,b),Aa(c,function(a,b){d("eventAfterRender",a.event,a.event,b)})}function P(a,b,c){var d=Q([a],!0,!1),e=[];return Aa(d,function(a,d){a.row===b&&d.css("top",c),e.push(d[0])}),e}function Q(b,c,d){var h,i,e=z(),f=c?a("<div/>"):e,g=R(b);return T(g),h=U(g),f[0].innerHTML=h,i=f.children(),c&&e.append(i),X(g,i),Aa(g,function(a,b){a.hsides=M(b,!0)}),Aa(g,function(a,b){b.width(Math.max(0,a.outerWidth-a.hsides))}),Aa(g,function(a,b){a.outerHeight=b.outerHeight(!0)}),Y(g,d),g}function R(a){for(var b=[],c=0;c<a.length;c++){var d=S(a[c]);b.push.apply(b,d)}return b}function S(a){for(var b=a.start,c=H(a),d=F(b,c),e=0;e<d.length;e++)d[e].event=a;return d}function T(a){for(var b=c("isRTL"),d=0;d<a.length;d++){var e=a[d],f=(b?e.isEnd:e.isStart)?u:r,g=(b?e.isStart:e.isEnd)?v:t,h=f(e.leftCol),i=g(e.rightCol);e.left=h,e.outerWidth=i-h}}function U(a){for(var b="",c=0;c<a.length;c++)b+=V(a[c]);return b}function V(a){var b="",d=c("isRTL"),g=a.event,h=g.url,i=["fc-event","fc-event-hori"];e(g)&&i.push("fc-event-draggable"),a.isStart&&i.push("fc-event-start"),a.isEnd&&i.push("fc-event-end"),i=i.concat(g.className),g.source&&(i=i.concat(g.source.className||[]));var j=ba(g,c);return b+=h?"<a href='"+Z(h)+"'":"<div",b+=" class='"+i.join(" ")+"' style='position:absolute;left:"+a.left+"px;"+j+"'><div class='fc-event-inner'>",!g.allDay&&a.isStart&&(b+="<span class='fc-event-time'>"+Z(A(g.start,g.end,c("timeFormat")))+"</span>"),b+="<span class='fc-event-title'>"+Z(g.title||"")+"</span></div>",a.isEnd&&f(g)&&(b+="<div class='ui-resizable-handle ui-resizable-"+(d?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"),b+="</"+(h?"a":"div")+">"}function X(b,c){for(var e=0;e<b.length;e++){var f=b[e],g=f.event,h=c.eq(e),i=d("eventRender",g,g,h);i===!1?h.remove():(i&&i!==!0&&(i=a(i).css({position:"absolute",left:f.left}),h.replaceWith(i),h=i),f.element=h)}}function Y(a,b){var c=_(a),d=ea(),e=[];if(b)for(var f=0;f<d.length;f++)d[f].height(c[f]);for(var f=0;f<d.length;f++)e.push(d[f].position().top);Aa(a,function(a,b){b.css("top",e[a.row]+a.top)})}function _(a){for(var b=n(),c=o(),d=[],e=aa(a),f=0;f<b;f++){for(var g=e[f],h=[],i=0;i<c;i++)h.push(0);for(var j=0;j<g.length;j++){var k=g[j];k.top=W(h.slice(k.leftCol,k.rightCol+1));for(var i=k.leftCol;i<=k.rightCol;i++)h[i]=k.top+k.outerHeight}d.push(W(h))}return d}function aa(a){var d,e,f,b=n(),c=[];for(d=0;d<a.length;d++)e=a[d],f=e.row,e.element&&(c[f]?c[f].push(e):c[f]=[e]);for(f=0;f<b;f++)c[f]=ca(c[f]||[]);return c}function ca(a){for(var b=[],c=da(a),d=0;d<c.length;d++)b.push.apply(b,c[d]);return b}function da(a){a.sort(Ba);for(var b=[],c=0;c<a.length;c++){for(var d=a[c],e=0;e<b.length&&za(d,b[e]);e++);b[e]?b[e].push(d):b[e]=[d]}return b}function ea(){var a,b=n(),c=[];for(a=0;a<b;a++)c[a]=q(a).find("div.fc-day-content > div");return c}function fa(a,b){var c=z();Aa(a,function(a,c,d){var e=a.event;e._id===b?ga(e,c,a):c[0]._fci=d}),J(c,a,ga)}function ga(a,c,d){e(a)&&b.draggableDayEvent(a,c,d),d.isEnd&&f(a)&&b.resizableDayEvent(a,c,d),i(a,c)}function ha(a,b){var f,e=E();b.draggable({delay:50,opacity:c("dragOpacity"),revertDuration:c("dragRevertDuration"),start:function(c,g){d("eventDragStart",b,a,c,g),k(a,b),e.start(function(c,d,e,g){if(b.draggable("option","revert",!c||!e&&!g),C(),c){var h=G(d),i=G(c);f=y(i,h),B(s(w(a.start),f),s(H(a),f))}else f=0},c,"drag")},stop:function(c,g){e.stop(),C(),d("eventDragStop",b,a,c,g),f?l(this,a,f,0,a.allDay,c,g):(b.css("filter",""),j(a,b))}})}function ia(b,e,f){var h=c("isRTL"),i=h?"w":"e",l=e.find(".ui-resizable-"+i),p=!1;$(e),e.mousedown(function(a){a.preventDefault()}).click(function(a){p&&(a.preventDefault(),a.stopImmediatePropagation())}),l.mousedown(function(c){function x(c){d("eventResizeStop",this,b,c),a("body").css("cursor",""),h.stop(),C(),t&&m(this,b,t,0,c),setTimeout(function(){p=!1},0)}if(1==c.which){p=!0;var t,u,h=E(),r=(n(),o(),e.css("top")),v=a.extend({},b),w=N(L(b.start));D(),a("body").css("cursor",i+"-resize").one("mouseup",x),d("eventResizeStart",this,b,c),h.start(function(c,d){if(c){var e=I(d),h=I(c);if(h=Math.max(h,w),t=K(h)-K(e)){v.end=s(g(b),t,!0);var l=u;u=P(v,f.row,r),u=a(u),u.find("*").css("cursor",i+"-resize"),l&&l.remove(),k(b)}else u&&(j(b),u.remove(),u=null);C(),B(b.start,s(H(b),t))}},c)}})}var b=this;b.renderDayEvents=O,b.draggableDayEvent=ha,b.resizableDayEvent=ia;var c=b.opt,d=b.trigger,e=b.isEventDraggable,f=b.isEventResizable,g=b.eventEnd,h=b.reportEventElement,i=b.eventElementHandlers,j=b.showEvents,k=b.hideEvents,l=b.eventDrop,m=b.eventResize,n=b.getRowCnt,o=b.getColCnt,q=(b.getColWidth,b.allDayRow),r=b.colLeft,t=b.colRight,u=b.colContentLeft,v=b.colContentRight,z=(b.dateToCell,b.getDaySegmentContainer),A=b.calendar.formatDates,B=b.renderDayOverlay,C=b.clearOverlays,D=b.clearSelection,E=b.getHoverListener,F=b.rangeToSegments,G=b.cellToDate,I=b.cellToCellOffset,K=b.cellOffsetToDayOffset,L=b.dateToDayOffset,N=b.dayOffsetToCellOffset}function za(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(d.leftCol<=a.rightCol&&d.rightCol>=a.leftCol)return!0}return!1}function Aa(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=d.element;e&&b(d,e,c)}}function Ba(a,b){return b.rightCol-b.leftCol-(a.rightCol-a.leftCol)||b.event.allDay-a.event.allDay||a.event.start-b.event.start||(a.event.title||"").localeCompare(b.event.title)}function Ca(){function i(a,b,c){j(),b||(b=e(a,c)),f(a,b,c),k(a,b,c)}function j(a){h&&(h=!1,g(),d("unselect",null,a))}function k(a,b,c,e){h=!0,d("select",null,a,b,c,e)}function l(d){var e=b.cellToDate,h=b.getIsCellAllDay,i=b.getHoverListener(),l=b.reportDayClick;if(1==d.which&&c("selectable")){j(d);var n;i.start(function(a,b){g(),a&&h(a)?(n=[e(b),e(a)].sort(V),f(n[0],n[1],!0)):n=null},d),a(document).one("mouseup",function(a){i.stop(),n&&(+n[0]==+n[1]&&l(n[0],!0,a),k(n[0],n[1],!0,a))})}}var b=this;b.select=i,b.unselect=j,b.reportSelection=k,b.daySelectionMousedown=l;var c=b.opt,d=b.trigger,e=b.defaultSelectionEnd,f=b.renderSelection,g=b.clearSelection,h=!1;c("selectable")&&c("unselectAuto")&&a(document).mousedown(function(b){var d=c("unselectCancel");d&&a(b.target).parents(d).length||j(b)})}function Da(){function e(b,e){var f=d.shift();return f||(f=a("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),f[0].parentNode!=e[0]&&f.appendTo(e),c.push(f.css(b).show()),f}function f(){for(var a;a=c.shift();)d.push(a.hide().unbind())}var b=this;b.renderOverlay=e,b.clearOverlays=f;var c=[],d=[]}function Ea(a){var c,d,b=this;b.build=function(){c=[],d=[],a(c,d)},b.cell=function(a,b){var g,e=c.length,f=d.length,h=-1,i=-1;for(g=0;g<e;g++)if(b>=c[g][0]&&b<c[g][1]){h=g;break}for(g=0;g<f;g++)if(a>=d[g][0]&&a<d[g][1]){i=g;break}return h>=0&&i>=0?{row:h,col:i}:null},b.rect=function(a,b,e,f,g){var h=g.offset();return{top:c[a][0]-h.top,left:d[b][0]-h.left,width:d[f][1]-d[b][0],height:c[e][1]-c[a][0]}}}function Fa(b){function h(a){Ga(a);var c=b.cell(a.pageX,a.pageY);(!c!=!g||c&&(c.row!=g.row||c.col!=g.col))&&(c?(f||(f=c),e(c,f,c.row-f.row,c.col-f.col)):e(c,f),g=c)}var d,e,f,g,c=this;c.start=function(c,i,j){e=c,f=g=null,b.build(),h(i),d=j||"mousemove",a(document).bind(d,h)},c.stop=function(){return a(document).unbind(d,h),g}}function Ga(a){a.pageX===b&&(a.pageX=a.originalEvent.pageX,a.pageY=a.originalEvent.pageY)}function Ha(a){function g(b){return d[b]=d[b]||a(b)}var c=this,d={},e={},f={};c.left=function(a){return e[a]=e[a]===b?g(a).position().left:e[a]},c.right=function(a){return f[a]=f[a]===b?c.left(a)+g(a).width():f[a]},c.clear=function(){d={},e={},f={}}}var c={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*",handleWindowResize:!0},d={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},e=a.fullCalendar={version:"1.6.6"},f=e.views={};a.fn.fullCalendar=function(e){if("string"==typeof e){var g,f=Array.prototype.slice.call(arguments,1);return this.each(function(){var c=a.data(this,"fullCalendar");if(c&&a.isFunction(c[e])){var d=c[e].apply(c,f);g===b&&(g=d),"destroy"==e&&a.removeData(this,"fullCalendar")}}),g!==b?g:this}e=e||{};var i=e.eventSources||[];return delete e.eventSources,e.events&&(i.push(e.events),delete e.events),e=a.extend(!0,{},c,e.isRTL||e.isRTL===b&&c.isRTL?d:{},e),this.each(function(b,c){var d=a(c),f=new h(d,e,i);d.data("fullCalendar",f),f.render()}),this},e.sourceNormalizers=[],e.sourceFetchers=[];var j={dataType:"json",cache:!1},k=1;e.addDays=s,e.cloneDate=w,e.parseDate=A,e.parseISO8601=B,e.parseTime=C,e.formatDate=D,e.formatDates=E;var m=["sun","mon","tue","wed","thu","fri","sat"],n=864e5,o=36e5,p=6e4,F={s:function(a){return a.getSeconds()},ss:function(a){return X(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return X(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return X(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return X(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return X(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return X(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<12?"A":"P"},TT:function(a){return a.getHours()<12?"AM":"PM"},u:function(a){return D(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){var b=a.getDate();return b>10&&b<20?"th":["st","nd","rd"][b%10-1]||"th"},w:function(a,b){return b.weekNumberCalculation(a)},W:function(a){return G(a)}};e.dateFormatters=F,e.applyAll=ca,f.month=ea,f.basicWeek=fa,f.basicDay=ga,g({weekMode:"fixed"}),f.agendaWeek=ja,f.agendaDay=ka,g({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24,slotEventOverlap:!0})}(jQuery);